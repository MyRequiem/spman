#! /usr/bin/env python3
# -*- coding: utf-8 -*-

# helpmess.py file is part of spman

# Copyright 2016 MyRequiem <mrvladislavovich@gmail.com>
# All rights reserved

# spman - Slackware package manager
# Home page: https://github.com/MyRequiem/spman

# Spman is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
# GNU General Public License for more details.
# You should have received a copy of the GNU General Public License
# along with this program. If not, see <http://www.gnu.org/licenses/>.

"""
Help messages and usage
"""

from spman.maindata import MainData


def show_help_mess(repo=''):
    """
{0}Version: {1}{5}
Usage: spman --command [param[, param ...]]

{2} -h|--help{3}            Print this help message and exit.
{2} -r|--repolist{3}        Print a list of all the repositories.

{4}Home page: https://github.com/MyRequiem/spman{5}
"""

    meta = MainData()

    if repo == 'error':
        # parameter input error
        print(('\n {0}Wrong parameters{1}\n Type \'spman -h\' or '
               '\'spman --help\' for help').format(meta.clrs['red'],
                                                   meta.clrs['reset']),
              end='\n\n')
        raise SystemExit
    elif repo:
        # repository does not exist
        repos = ', '.join([rep for rep in sorted(meta.get_repo_dict())])
        print(('\n{0}Repository {1}\'{2}\' {0}does not exist{3}\n'
               'Available repository: {4}{5}{3}\n'
               '{6}config file: {7}repo-list{3}').format(meta.clrs['red'],
                                                         meta.clrs['cyan'],
                                                         repo,
                                                         meta.clrs['reset'],
                                                         meta.clrs['green'],
                                                         repos,
                                                         meta.clrs['grey'],
                                                         meta.configs_path),
              end='\n\n')
        raise SystemExit()

    # show usage
    print(str(show_help_mess.__doc__).format(meta.clrs['grey'],
                                             meta.self_version,
                                             meta.clrs['yellow'],
                                             meta.clrs['cyan'],
                                             meta.clrs['green'],
                                             meta.clrs['reset']))
